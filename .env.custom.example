# 自定义API配置示例
# 复制此文件为 .env 并填入您的API信息

# ========================================
# 基础配置
# ========================================

# 设置默认使用自定义API
DEFAULT_AI_PROVIDER=custom

# ========================================
# 自定义API配置
# ========================================

# 必需：您的API端点URL
CUSTOM_API_URL=https://your-api-domain.com/v1/chat/completions

# 必需：您的API密钥
CUSTOM_API_KEY=your-api-key-here

# 模型名称（可选，默认为custom-model）
CUSTOM_API_MODEL=your-model-name

# ========================================
# 认证配置（可选）
# ========================================

# API密钥的请求头名称（默认为Authorization）
CUSTOM_API_KEY_HEADER=Authorization

# API密钥的前缀（默认为Bearer）
# 如果不需要前缀，设置为空字符串
CUSTOM_API_KEY_PREFIX=Bearer

# ========================================
# 请求格式配置
# ========================================

# 请求格式类型：openai 或 custom
# - openai: 使用OpenAI兼容的请求格式
# - custom: 使用自定义请求模板
CUSTOM_REQUEST_FORMAT=openai

# 如果使用custom格式，提供请求模板（JSON格式）
# 使用 {{variable}} 作为占位符
# 可用变量：model, messages, max_tokens, temperature, top_p
# 示例：
# CUSTOM_REQUEST_TEMPLATE={"prompt": "{{messages}}", "model": "{{model}}", "max_length": {{max_tokens}}}

# ========================================
# 响应格式配置
# ========================================

# 响应格式类型：openai 或 custom
# - openai: 期望OpenAI兼容的响应格式
# - custom: 使用自定义路径提取响应数据
CUSTOM_RESPONSE_FORMAT=openai

# 如果使用custom格式，指定响应数据的提取路径（使用点号分隔）
# 响应内容的路径（例如：data.text 或 response.0.content）
CUSTOM_RESPONSE_CONTENT_PATH=choices.0.message.content

# 模型名称的路径（例如：model_name 或 meta.model）
CUSTOM_RESPONSE_MODEL_PATH=model

# Token使用信息的路径（例如：usage 或 statistics）
CUSTOM_RESPONSE_USAGE_PATH=usage

# ========================================
# 生成参数（可选）
# ========================================

# 最大生成token数
MAX_TOKENS=2000

# 温度参数（0-1，控制随机性）
TEMPERATURE=0.7

# Top-p参数（0-1，核采样）
TOP_P=1.0

# ========================================
# 示例配置
# ========================================

# 示例1：兼容OpenAI格式的API（如通义千问、文心一言等）
# DEFAULT_AI_PROVIDER=custom
# CUSTOM_API_URL=https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions
# CUSTOM_API_KEY=sk-your-api-key
# CUSTOM_API_MODEL=qwen-turbo
# CUSTOM_REQUEST_FORMAT=openai
# CUSTOM_RESPONSE_FORMAT=openai

# 示例2：完全自定义的API
# DEFAULT_AI_PROVIDER=custom
# CUSTOM_API_URL=https://api.example.com/generate
# CUSTOM_API_KEY=custom-key-123
# CUSTOM_API_KEY_HEADER=X-API-Key
# CUSTOM_API_KEY_PREFIX=
# CUSTOM_REQUEST_FORMAT=custom
# CUSTOM_REQUEST_TEMPLATE={"input": "{{messages}}", "parameters": {"max_length": {{max_tokens}}, "temperature": {{temperature}}}}
# CUSTOM_RESPONSE_FORMAT=custom
# CUSTOM_RESPONSE_CONTENT_PATH=data.generated_text
# CUSTOM_RESPONSE_MODEL_PATH=metadata.model_id
# CUSTOM_RESPONSE_USAGE_PATH=metadata.tokens